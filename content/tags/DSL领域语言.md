# 								领域语言DSL

## 一、概述

​		DSL(Domain Specified Language)领域专用语言。

1、什么是领域专用语言，及其创建背景？

​		其基本思想是“**求专不求全**”，不需要像通用目的语言那样目标范围涵盖一切软件问题，而是针对某一特定问题的计算机语言。

背景例子：

​		在需求收集的过程中，如果要成功的构建模型，则需要一种领域专家和构建者都能理解的“共同语言”，但是这种“共同语言”的创建过程没有保证，不能保证在需求收集的过程中，收集到的信息完整的描述了领域活动中所有的业务活动。

​		如果能够让领域专家通过简单的编程方式描述领域中的所有活动和规则，那么在一定程度上保证描述的完整性。

2、它的发明解决了什么样的问题？

​		DSL是为了解决系统（包括软件系统和硬件系统）构建初期，使用者和构建者的语言模型不一致导致的需求收集的困难。



## 二、常见的DSL

* 软件构建领域的Ant
  * Ant：Ant是一个构建工具，它通过自动完成所有的编译代码，运行测试以及打包重新部署的结果等繁琐费力的任务来帮助软件团队开发大程序。
* UI设计师的HTML
* 硬件设计师的VHDL



## 三、DSL的特点

* 仅用于专业领域，不能用于其他领域
* 表现力有限
* 不描述解答域，仅描述问题域



## 四、DSL与通用编程语言的区别

* DSL供非程序员使用，供领域专家使用
* DSL有更高级的抽象，不涉及数据结构的细节
* DSL表现力有限，其只能描述该领域的模型，而通用编程语言能够描述任意模型



## 五、DSL分类

要理解DSL分类需要先理解一个概念。“元语言抽象”。

它是通过一种语言来构建另一种语言，比如java就是构建在C语言之上。

其中通过什么语言构建，这种语言称为“宿主语言”。



根据是否从宿主语言构建而来，DSL分为：

* 内部DSL（从一种宿主语言构建而来）
* 外部DSL（从零开始构建的语言，需要实现语法分析器）
* 还有一种属于外部DSL的“非文本DSL”，即尽量使用图形化表述。比如JetBrains的MPS

```java
我们通常使用的框架就是一种内部的DSL，比如Rails框架就是基于Ruby的用于Web开发领域的内部DSL
```



## 六、如何构建DSL

构建DSL要满足三个原则：

* 能够完整的描述领域
* 简单易用
* 隐藏细节



DSL的构建难度比较大，不建议从零开始构建。建议使用比较完善的构建。



## 七、背后的概念

​		DSL是在需求分析阶段为了解决需求收集的过程中需求描述方（遇到问题的人/问题描述者）和解决方案提供者（构建者）之间相互理解困难设计的专门工具；

​		领域专家使用专业术语来对问题进行描述，模型构建者通过对领域活动及其问题的理解，加上对技术解决方案的理解，提出解决方案模型。

​		该模型最终映射到技术方案中，这个过程中的活动称为“领域分析/领域建模”，目的是确定并理解领域中的重要元素、过程及其间的关系。



